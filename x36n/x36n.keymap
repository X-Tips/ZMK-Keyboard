/*
 * Copyright (c) 2020 The ZMK Contributors
 *
 * SPDX-License-Identifier: MIT
 */

#include <behaviors.dtsi>
#include <dt-bindings/zmk/keys.h>
#include <dt-bindings/zmk/rgb.h>
#include <dt-bindings/zmk/bt.h>
#include <dt-bindings/zmk/outputs.h>
#include <dt-bindings/zmk/ext_power.h>
#include <dt-bindings/zmk/mouse.h>

/ {
      macros {
        xtips: xtips {
            compatible = "zmk,behavior-macro";
            label = "XTIPS";
            #binding-cells = <0>;
            bindings = <&kp LS(X) &kp KP_DOT &kp LS(T) &kp I &kp P &kp S>;
            wait-ms = <1>;
            tap-ms = <1>;
        };
      };

	keymap0: keymap {
		compatible = "zmk,keymap";

		default_layer {
            bindings = <
            &kp ESC    &kp Q    &kp W    &kp E      &kp R        &kp T     &kp Y      &kp U        &kp I        &kp O     &kp P      &kp BSPC  
            &kp TAB    &kp A    &kp S    &kp D      &kp F        &kp G     &kp H      &kp J        &kp K        &kp L     &kp SEMI   &kp ENTER  
            &kp DEL    &kp Z    &kp X    &kp C      &kp V        &kp B     &kp N      &kp M        &lt 3 COMMA  &kp DOT   &kp SLASH  &kp DEL  
            &none      &none    &none    &kp LCTRL  &lt 1 SPACE  &kp LSHFT &kp LALT   &lt 2 SPACE  &kp LWIN     &none     &none      &none
            >;
		};

		fn1_layer {
            bindings = <
            &kp TILDE   &kp N7    &kp N8    &kp N9    &kp KP_DOT &kp KP_PLUS       &kp PRCNT     &kp DLLR      &kp EXCL    &kp LBRC    &kp RBRC    &kp DQT     
            &kp GRAVE   &kp N4    &kp N5    &kp N6    &kp N0     &kp KP_MINUS      &kp AMPS      &kp HASH      &kp PIPE    &kp LBKT    &kp RBKT    &kp SQT      
            &kp BSPC    &kp N1    &kp N2    &kp N3    &kp EQUAL  &kp KP_MULTIPLY   &kp BSLH      &kp AT        &kp CARET   &kp LPAR    &kp RPAR    &kp UNDER  
            &none       &none     &none     &kp LCTRL &to 0      &kp LSHFT         &kp LALT      &kp LG(SPACE) &kp LWIN    &none       &none       &none
             >;
		};

		fn2_layer {
            bindings = <
            &kp F1        &kp F2        &kp F3        &kp F4       &kp F5        &kp F6        &kp PG_UP   &kp HOME    &kp UP        &kp END       &kp LS(UP)    &kp LS(DOWN)
            &kp F7        &kp F8        &kp F9        &kp F10      &kp F11       &kp F12       &kp PG_DN   &kp LEFT    &kp DOWN      &kp RIGHT     &kp LS(LEFT)  &kp LS(RIGHT)
            &bt BT_SEL 0  &bt BT_SEL 1  &bt BT_SEL 2  &bt BT_CLR   &out OUT_USB  &out OUT_BLE  &kp C_PP    &kp C_MUTE  &kp C_VOL_DN  &kp C_VOL_UP  &kp C_PREV    &kp C_NEXT 
            &none         &none         &none         &kp LCTRL    &kp LG(SPACE) &kp LSHFT     &kp LALT    &to 0       &kp LWIN      &none         &none         &none
            >;
		};

		fn3_layer {
            bindings = <
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none  &none   &none       
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none  &none   &none   
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none  &none   &none   
            &none   &none   &none   &none  &none   &none   &none   &mo(4) &none   &none  &none   &none   
            >;
		};
		
		fn4_layer {
            bindings = <
            &none   &none   &none   &none  &none   &none   &none        &none   &none   &none   &none   &none       
            &none   &none   &none   &none  &none   &none   &none        &none   &none   &none   &none   &none   
            &none   &none   &none   &none  &none   &none   &none        &none   &none   &none   &none   &none   
            &none   &none   &none   &none  &none   &none   &bootloader  &none   &xtips  &none   &none   &none   
            >;
		};

		fn5_layer {
            bindings = <
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none       
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none   
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none   
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none   
            >;
		};
		
		fn6_layer {
            bindings = <
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none       
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none   
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none   
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none   
            >;
		};
		
		fn7_layer {
            bindings = <
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none       
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none   
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none   
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none   
            >;
		};
		
		fn8_layer {
            bindings = <
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none       
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none   
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none   
            &none   &none   &none   &none  &none   &none   &none   &none  &none   &none   &none   &none   
            >;
		};
	};
};
